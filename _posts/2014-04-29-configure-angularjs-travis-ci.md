---
title: Configure AngularJS apps in Travis CI
tags: 
  - yeoman
  - angularjs
  - javascript
  - karma
  - "travis-ci"
permalink: "/content/configure-angularjs-travis-ci"
layout: post
author: CarlosMantilla
published: true
---

{% include JB/setup %}

On the road to the next release we always run the risk of obstacles leading to detours which can force improvisation and make us lose focus of the actual application. This makes Continuous Integration tools like [Travis CI](https://travis-ci.org/) core to our work at Gizra.

[AngularJS](https://angularjs.org/), in conjunction with [yeoman.io](http://yeoman.io/) and the powerful [AngularJS generator](https://github.com/yeoman/generator-angular) allows for quick integration with for automated testing with [Karma](http://karma-runner.github.io), [Grunt](http://gruntjs.com) and Travis CI.

<!-- more -->

Here's an [example](https://github.com/ceoaliongroo/angular-travis-config-example) code.

Let's configure together Travis CI for the AngularJS application generated by [yeoman.io](http://yeoman.io/):

# Create the application and configure

- Create new angular application

```bash
$ yo angular:app application_name
```

- Open Gruntfile.js and modify the karma configuration:

```javascript
  // Test settings
  karma: {
    unit: {
      configFile: 'karma.conf.js',
      singleRun: true,
      browsers: ['Firefox']
    }
  }
```

Adding the line `browsers: ['Firefox']` will make the test run with Firefox, which is compatible with Travis CI. This means you need to have FF >= 17 installed locally for 'grunt test' to work.

- Install [Karma](http://karma-runner.github.io)* and its [dependencies](http://karma-runner.github.io/0.12/intro/installation.html)

```bash
$ npm install karma grunt-karma karma-jasmine karma-firefox-launcher --save-dev
```

- Modify Travis CI configuration file .travis.yml, to add the configuration

```yaml
  language: node_js
  node_js:
    - '0.10'
  before_install:
    - 'export DISPLAY=:99.0'
    - 'sh -e /etc/init.d/xvfb start'
  before_script:
    - 'gem update --system'
    - 'gem install sass --version "=3.2.12"'
    - 'gem install compass --version "=0.12.2"'
    - 'npm install -g bower grunt-cli karma-cli'
    - 'bower install'
```
*Note:* When you push you code to your repository in github, the .travis.yml have to be in the root of the repository in order for Travis CI to find it.

# Configure GitHub Webhook and Test.

- Click the icon Settings

![]({{BASE_PATH}}/assets/images/posts/configure-angularjs-travis-ci/settings.png)

- Select Webhooks & Services, click the "Add service" and find Travis CI

![]({{BASE_PATH}}/assets/images/posts/configure-angularjs-travis-ci/webhooks.png)

- Configure GitHub webhook for Travis CI to automatically test each commit.

![]({{BASE_PATH}}/assets/images/posts/configure-angularjs-travis-ci/configure.png)

- Push some code to verify the test is runnig on Travis CI site.

![]({{BASE_PATH}}/assets/images/posts/configure-angularjs-travis-ci/testing.png)

From now on, every commit will run the tests and you will be notified if the new code broke the application.